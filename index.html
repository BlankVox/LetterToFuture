<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta
        content="Send a free, private, and secure letter to your future self. Write down your thoughts, goals, and dreams, and have them delivered to your email inbox on a future date you choose. A simple way to reflect and connect with your future self."
        name="description" />
    <meta content="letter to future, future self, message to future, time capsule, personal development, journaling"
        name="keywords" />
    <meta content="LetterToFuture" name="author" />
    <link href="logo.png" rel="icon" type="image/png" />
    <link href="logo.png" rel="apple-touch-icon" />
    <title>Letter to Future Self</title>
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'G-XXXXXXXXXX');
    </script>
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "url": "https://lettertofuture.vercel.app/",
            "name": "LetterToFuture",
            "description": "Send a free, private, and secure letter to your future self. Write down your thoughts, goals, and dreams, and have them delivered to your email inbox on a future date you choose.",
            "potentialAction": {
                "@type": "WriteAction",
                "target": {
                    "@type": "EntryPoint",
                    "urlTemplate": "https://lettertofuture.vercel.app/#letter-form"
                },
                "name": "Write a Letter to Your Future Self"
            },
            "publisher": {
                "@type": "Organization",
                "name": "LetterToFuture",
                "logo": {
                    "@type": "ImageObject",
                    "url": "https://lettertofuture.vercel.app/apple-touch-icon.png"
                }
            },
            "mainEntity": {
                "@type": "SoftwareApplication",
                "name": "LetterToFuture",
                "operatingSystem": "Web-based",
                "applicationCategory": "ProductivityApplication",
                "aggregateRating": {
                    "@type": "AggregateRating",
                    "ratingValue": "4.8",
                    "ratingCount": "250"
                },
                "offers": {
                    "@type": "Offer",
                    "price": "0",
                    "priceCurrency": "USD"
                }
            }
        }
    </script>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&amp;family=Poppins:wght@300;400;500;600;700&amp;display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&amp;display=swap" rel="stylesheet" />
    <style type="text/tailwindcss">
        :root {
            --brand-primary: #3B82F6;
            --brand-secondary: #1D4ED8;
            --background-light: #F9FAFB;
            --surface-light: #FFFFFF;
            --text-primary-light: #111827;
            --text-secondary-light: #6B7280;
            --border-light: #E5E7EB;
        }
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--background-light);
            color: var(--text-primary-light);
        }
        .font-serif {
            font-family: 'Lora', serif;
        }
        .font-handwriting {
            font-family: 'Dancing Script', cursive;
        }
        .bg-brand-primary {
            background-color: var(--brand-primary);
        }
        .hover\:bg-brand-secondary:hover {
            background-color: var(--brand-secondary);
        }
        .text-brand-primary {
            color: var(--brand-primary);
        }
        .hover\:text-brand-secondary:hover {
            color: var(--brand-secondary);
        }
        .focus\:ring-brand-primary:focus {
            --tw-ring-color: var(--brand-primary);
        }
        .bg-surface {
            background-color: var(--surface-light);
        }
        .border-default {
            border-color: var(--border-light);
        }
        .text-secondary {
            color: var(--text-secondary-light);
        }
        .text-primary {
            color: var(--text-primary-light);
        }
        html[data-logo-variant="B"] .header-container {
            flex-direction: column;
            justify-content: center;
            height: auto;
            padding-top: 1rem;
            padding-bottom: 1rem;
        }
        html[data-logo-variant="B"] .logo-a {
            display: none;
        }
        html[data-logo-variant="A"] .logo-b {
            display: none;
        }
        html[data-logo-variant="B"] .main-nav {
            margin-top: 0.75rem;
        }
        html[data-logo-variant="B"] .header-actions {
            position: absolute;
            top: 50%;
            right: 1rem;
            transform: translateY(-50%);
        }
        @media (min-width: 768px) {
            html[data-logo-variant="B"] .header-actions {
                position: static;
                transform: none;
            }
            html[data-logo-variant="B"] .header-container {
                flex-direction: row;
                justify-content: space-between;
                height: 5rem;
                padding-top: 0;
                padding-bottom: 0;
            }
            html[data-logo-variant="B"] .logo-b {
                position: absolute;
                left: 50%;
                transform: translateX(-50%);
            }
            html[data-logo-variant="B"] .main-nav {
                margin-top: 0;
            }
        }
    </style>
    <script defer src="https://analytics.vercel.com/script.js" data-token="prj_nVARMqYxR9rIKbFIE7d43CJOkT7N"></script>
</head>

<body class="antialiased">
    <div class="min-h-screen flex flex-col" id="app">
        <header class="bg-surface/90 backdrop-blur-lg border-b border-default sticky top-0 z-50">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative">
                <div class="flex justify-between items-center h-16 sm:h-20 header-container">
                    <div class="logo-a">
                        <a aria-label="LetterToFuture homepage" class="flex items-center space-x-2 sm:space-x-3 group"
                            href="/">
                            <div
                                class="w-8 h-8 sm:w-12 sm:h-12 rounded-full flex items-center justify-center transition-transform duration-300 group-hover:scale-110 group-hover:rotate-[-12deg]">
                                <img src="logo.png" alt="LetterToFuture Logo" class="w-6 h-6 sm:w-8 sm:h-8" />
                            </div>
                            <p
                                class="text-lg sm:text-2xl font-bold font-serif tracking-tight text-primary transition-colors group-hover:text-brand-primary">
                                LetterToFuture</p>
                        </a>
                    </div>
                    <div class="flex items-center space-x-4">
                        <nav aria-label="Main" class="hidden md:flex items-center space-x-4 lg:space-x-6 main-nav"
                            role="navigation">
                            <a class="text-sm lg:text-base font-medium text-secondary hover:text-brand-primary transition-colors"
                                href="#edit-letter-section">Manage Letters</a>
                            <a class="text-sm lg:text-base font-medium text-secondary hover:text-brand-primary transition-colors"
                                href="/about.html">About</a>
                            <a class="text-sm lg:text-base font-medium text-secondary hover:text-brand-primary transition-colors"
                                href="/privacy.html">Privacy</a>
                        </nav>
                        <div class="flex items-center space-x-1 sm:space-x-2 header-actions">
                            <button aria-controls="mobile-menu" aria-expanded="false" aria-label="Open main menu"
                                class="md:hidden p-2 rounded-full text-secondary hover:bg-gray-100">
                                <span aria-hidden="true" class="material-icons text-2xl">menu</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <main class="flex-grow">
            <section aria-labelledby="hero-heading" class="py-12 sm:py-20 lg:py-24">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="max-w-4xl mx-auto text-center" x-data="letterForm()" x-id="['confirmation-email']">
                        <div x-show="!submitted">
                            <div>
                                <h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold font-serif tracking-tight leading-tight text-primary"
                                    id="hero-heading">Send a Free Letter to Your Future Self</h1>
                                <p
                                    class="mt-4 sm:mt-6 text-base sm:text-lg lg:text-xl text-secondary max-w-3xl mx-auto">
                                    Capture your thoughts, goals, and dreams today. Receive a timeless message from your
                                    past self to inspire and guide you in the years to come. Create a personal time
                                    capsule with a message to the future.</p>
                                <div class="mt-8 sm:mt-10 lg:mt-12">
                                    <a class="inline-flex items-center justify-center px-6 py-3 sm:px-10 sm:py-4 lg:px-12 lg:py-5 border border-transparent text-base sm:text-lg lg:text-xl font-semibold rounded-full text-white bg-brand-primary hover:bg-brand-secondary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background-light focus:ring-brand-primary transition-all duration-300 transform hover:scale-105 shadow-2xl hover:shadow-brand-primary/40"
                                        href="#letter-form">
                                        Write Your Future Letter Now
                                        <span aria-hidden="true"
                                            class="material-icons ml-2 sm:ml-3 animate-bounce">edit</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                        <div aria-live="polite"
                            class="bg-surface rounded-2xl shadow-xl p-6 sm:p-8 lg:p-12 border-t-4 border-brand-primary"
                            x-cloak="" x-show="submitted">
                            <div class="mx-auto w-fit bg-brand-primary/10 p-3 sm:p-4 rounded-full">
                                <span aria-hidden="true"
                                    class="material-icons text-brand-primary text-4xl sm:text-5xl">mark_email_read</span>
                            </div>
                            <h2
                                class="mt-4 sm:mt-6 text-2xl sm:text-3xl lg:text-4xl font-bold font-serif tracking-tight text-primary">
                                Your Letter to the Future is Scheduled!</h2>
                            <p class="mt-3 sm:mt-4 text-base sm:text-lg text-secondary">A confirmation for your future
                                message has been sent to <strong class="font-medium text-primary"
                                    x-text="email">you@example.com</strong>.
                                Your letter will be delivered on <strong class="font-medium text-primary"
                                    x-text="deliveryDate">January 1, 2030</strong>.</p>
                            <div class="mt-6 sm:mt-8 bg-gray-100 rounded-xl p-4 sm:p-6 text-left border border-default">
                                <h3 class="font-semibold text-base sm:text-lg flex items-center text-primary"><span
                                        aria-hidden="true"
                                        class="material-icons mr-2 sm:mr-3 text-brand-primary">drafts</span>Letter
                                    Summary</h3>
                                <blockquote
                                    class="mt-3 sm:mt-4 pl-4 sm:pl-5 border-l-4 border-brand-primary text-secondary font-serif italic text-sm sm:text-base"
                                    x-text="letterSnippet">
                                    Dear Future Me...
                                </blockquote>
                            </div>
                            <div class="mt-6 sm:mt-8">
                                <button
                                    @click="submitted = false; email = ''; deliveryDate = ''; letterSnippet = ''; letterContent = '';"
                                    class="inline-flex items-center justify-center px-6 py-3 sm:px-8 sm:py-4 border border-transparent text-sm sm:text-base font-medium rounded-xl text-white bg-brand-primary hover:bg-brand-secondary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-surface focus:ring-brand-primary transition-all duration-300 transform hover:scale-105 shadow-lg"
                                    type="button">
                                    Write Another Letter to Future
                                    <span aria-hidden="true" class="material-icons ml-2">add</span>
                                </button>
                            </div>
                        </div>
                        <div class="mt-12 sm:mt-16 lg:mt-20 bg-surface rounded-2xl sm:rounded-3xl shadow-2xl p-4 sm:p-8 lg:p-12"
                            id="letter-form" x-show="!submitted">
                            <h2 class="text-2xl sm:text-3xl font-bold font-serif text-center text-primary mb-6 sm:mb-8">
                                Compose Your Message to the Future</h2>
                            <form @submit.prevent="submitLetter($event)">
                                <div class="space-y-6 sm:space-y-8">
                                    <div>
                                        <label class="sr-only" for="letter">Your Letter to Your Future Self</label>
                                        <textarea aria-describedby="letter-description"
                                            class="w-full p-4 sm:p-5 border border-default rounded-xl focus:ring-2 focus:ring-brand-primary focus:border-brand-primary transition-shadow duration-200 resize-none text-base leading-7 bg-background-light font-serif text-primary placeholder:text-secondary"
                                            id="letter" name="letter"
                                            placeholder="Dearest Future Me, I hope this letter finds you well..."
                                            required="" rows="12" x-model="letterContent"></textarea>
                                        <p class="sr-only" id="letter-description">Compose the body of your letter to
                                            your future self. This is your personal time capsule.</p>
                                    </div>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6 md:gap-8">
                                        <div>
                                            <label class="block text-sm font-medium text-secondary mb-2 text-left"
                                                for="delivery_date">Future Delivery Date</label>
                                            <div class="relative">
                                                <span aria-hidden="true"
                                                    class="material-icons absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-gray-500 text-base sm:text-lg">calendar_today</span>
                                                <input
                                                    class="w-full pl-10 sm:pl-12 pr-3 sm:pr-4 py-3 border border-default rounded-xl focus:ring-4 focus:ring-brand-primary/30 focus:border-brand-primary transition-shadow duration-300 bg-background-light text-primary"
                                                    id="delivery_date" min="" name="delivery_date" required type="date"
                                                    x-model="deliveryDate" />
                                                <button type="button" aria-label="Open calendar"
                                                    class="absolute right-2 top-1/2 -translate-y-1/2 bg-brand-primary hover:bg-brand-secondary text-white rounded-full p-2 shadow-md focus:outline-none focus:ring-2 focus:ring-brand-primary transition-all duration-200"
                                                    onclick="document.getElementById('delivery_date').focus()">
                                                    <span class="material-icons">event</span>
                                                </button>
                                            </div>
                                            <p class="text-xs text-secondary mt-1 ml-1">Pick a future date for delivery.
                                            </p>
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium text-secondary mb-2 text-left"
                                                for="email">Your Current Email</label>
                                            <div class="relative">
                                                <span aria-hidden="true"
                                                    class="material-icons absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-gray-500 text-base sm:text-lg">email</span>
                                                <input
                                                    class="w-full pl-10 sm:pl-12 pr-3 sm:pr-4 py-3 border border-default rounded-xl focus:ring-2 focus:ring-brand-primary focus:border-brand-primary transition-shadow duration-200 bg-background-light text-primary placeholder:text-secondary"
                                                    id="email" name="email" placeholder="you@example.com" required=""
                                                    type="email" x-model="email" />
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex items-start text-left">
                                        <div class="flex items-center h-5">
                                            <input aria-describedby="terms-description"
                                                class="focus:ring-brand-primary h-4 w-4 text-brand-primary border-default rounded"
                                                id="terms" name="terms" required="" type="checkbox" />
                                        </div>
                                        <div class="ml-3 text-sm">
                                            <label class="font-medium text-secondary" for="terms"
                                                id="terms-description">I agree to the <a
                                                    class="text-brand-primary hover:text-brand-secondary font-semibold underline transition-colors"
                                                    href="#terms-of-service">Terms of Service</a> for this future self
                                                message.</label>
                                        </div>
                                    </div>
                                    <div class="text-center pt-2 sm:pt-4 flex items-center justify-center">
                                        <button
                                            class="w-full sm:w-auto inline-flex items-center justify-center px-6 py-3 sm:px-8 sm:py-4 border border-transparent text-sm sm:text-base font-medium rounded-xl text-white bg-brand-primary hover:bg-brand-secondary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-surface focus:ring-brand-primary transition-all duration-300 transform hover:scale-105 shadow-lg"
                                            type="submit">
                                            Schedule My Letter
                                            <span aria-hidden="true" class="material-icons ml-2">send</span>
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
            <section aria-labelledby="manage-heading" class="py-12 sm:py-20 bg-surface" id="edit-letter-section">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="max-w-4xl mx-auto text-center">
                        <h2 class="text-2xl sm:text-3xl lg:text-4xl font-bold font-serif tracking-tight text-primary"
                            id="manage-heading">Manage Your Scheduled Future Letters</h2>
                        <p class="mt-3 sm:mt-4 text-base sm:text-lg text-secondary">Need to edit or delete a letter to
                            your future self? No problem. Enter the email address you used to send the letter to view
                            and manage your pending messages.</p>
                    </div>
                    <div class="mt-8 sm:mt-12 lg:mt-16 max-w-xl mx-auto">
                        <form action="#" class="flex flex-col sm:flex-row gap-3 sm:gap-4" method="POST">
                            <div class="flex-grow relative">
                                <label class="sr-only" for="manage_email">Your Email Address</label>
                                <span aria-hidden="true"
                                    class="material-icons absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 text-gray-500">email</span>
                                <input
                                    class="w-full pl-10 sm:pl-12 pr-4 py-3 sm:py-4 border border-default rounded-xl focus:ring-2 focus:ring-brand-primary focus:border-brand-primary transition-shadow duration-200 bg-background-light text-primary placeholder:text-secondary"
                                    id="manage_email" name="manage_email" placeholder="you@example.com" required=""
                                    type="email" />
                            </div>
                            <button
                                class="w-full sm:w-auto inline-flex shrink-0 items-center justify-center px-6 py-3 sm:px-8 sm:py-4 border border-transparent text-sm sm:text-base font-medium rounded-xl text-white bg-brand-primary hover:bg-brand-secondary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-surface focus:ring-brand-primary transition-all duration-300 shadow-lg"
                                type="submit">
                                Manage My Letters
                                <span aria-hidden="true" class="material-icons ml-2">inventory_2</span>
                            </button>
                        </form>
                        <p class="text-xs text-secondary mt-3 sm:mt-4 text-center">We will send a secure link to manage
                            your letter to the future. This link expires in 24 hours.</p>
                    </div>
                </div>
            </section>
            <section aria-labelledby="features-heading" class="py-12 sm:py-20 bg-background-light">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="max-w-4xl mx-auto text-center">
                        <h2 class="text-2xl sm:text-3xl lg:text-4xl font-bold font-serif tracking-tight text-primary"
                            id="features-heading">A Continuously Improving Platform for Your Future Self Messages</h2>
                        <p class="mt-3 sm:mt-4 text-base sm:text-lg text-secondary">At LetterToFuture, we're dedicated
                            to creating the best platform for sending messages to your future self. We achieve this
                            through careful analysis, user feedback, and constant iteration of our journaling and time
                            capsule features.</p>
                    </div>
                    <div class="mt-12 sm:mt-16 grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8 lg:gap-12 text-center">
                        <article
                            class="bg-surface p-6 sm:p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300"
                            itemscope="" itemtype="https://schema.org/Service">
                            <meta content="Data-Driven Improvements" itemprop="name" />
                            <div
                                class="flex items-center justify-center h-12 w-12 sm:h-16 sm:w-16 rounded-full bg-brand-primary/10 mx-auto">
                                <span aria-hidden="true"
                                    class="material-icons text-brand-primary text-2xl sm:text-3xl">analytics</span>
                            </div>
                            <h3 class="mt-4 sm:mt-6 text-lg font-semibold text-primary">Data-Driven Improvements</h3>
                            <p class="mt-2 text-sm sm:text-base text-secondary" itemprop="description">We analyze user
                                interaction with our future letter service to understand how people use it. This helps
                                us ensure your experience is seamless from writing to receiving your time capsule
                                message.</p>
                        </article>
                        <article
                            class="bg-surface p-6 sm:p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300"
                            itemscope="" itemtype="https://schema.org/Service">
                            <meta content="Search Ranking Optimization" itemprop="name" />
                            <div
                                class="flex items-center justify-center h-12 w-12 sm:h-16 sm:w-16 rounded-full bg-brand-primary/10 mx-auto">
                                <span aria-hidden="true"
                                    class="material-icons text-brand-primary text-2xl sm:text-3xl">trending_up</span>
                            </div>
                            <h3 class="mt-4 sm:mt-6 text-lg font-semibold text-primary">SEO for Future Self Journaling
                            </h3>
                            <p class="mt-2 text-sm sm:text-base text-secondary" itemprop="description">We monitor our
                                SEO efforts to improve visibility for terms like "letter to future self" and "personal
                                time capsule," helping more people discover our tool for personal development and
                                journaling.</p>
                        </article>
                        <article
                            class="bg-surface p-6 sm:p-8 rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-300"
                            itemscope="" itemtype="https://schema.org/Service">
                            <meta content="Iterative Feature Rollouts" itemprop="name" />
                            <div
                                class="flex items-center justify-center h-12 w-12 sm:h-16 sm:w-16 rounded-full bg-brand-primary/10 mx-auto">
                                <span aria-hidden="true"
                                    class="material-icons text-brand-primary text-2xl sm:text-3xl">model_training</span>
                            </div>
                            <h3 class="mt-4 sm:mt-6 text-lg font-semibold text-primary">Iterative Feature Rollouts</h3>
                            <p class="mt-2 text-sm sm:text-base text-secondary" itemprop="description">We evolve with
                                our users. New features for your future self letters are developed iteratively, allowing
                                us to perfect them based on real-world feedback on our message to the future service.
                            </p>
                        </article>
                    </div>
                    <div class="mt-12 sm:mt-16 text-center">
                        <a class="inline-flex items-center justify-center px-6 py-3 sm:px-8 sm:py-4 border border-transparent text-base font-medium rounded-full text-white bg-brand-primary hover:bg-brand-secondary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-background-light focus:ring-brand-primary transition-all duration-300 transform hover:scale-105"
                            href="#feedback-form">
                            Share Your Ideas
                            <span aria-hidden="true" class="material-icons ml-2">lightbulb</span>
                        </a>
                    </div>
                </div>
            </section>
            <section aria-labelledby="faq-heading" class="py-12 sm:py-20 lg:py-24">
                <div class="container mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="max-w-3xl mx-auto" x-data="{ openFaq: 3 }">
                        <h2 class="text-2xl sm:text-3xl lg:text-4xl font-bold font-serif tracking-tight text-center text-primary"
                            id="faq-heading">Your Questions About Letters to the Future, Answered</h2>
                        <div class="mt-8 sm:mt-12 space-y-3 sm:space-y-4" itemscope=""
                            itemtype="https://schema.org/FAQPage">
                            <div class="bg-surface rounded-xl sm:rounded-2xl shadow-lg border border-default"
                                itemprop="mainEntity" itemscope="" itemtype="https://schema.org/Question">
                                <button @click="openFaq = openFaq === 1 ? null : 1" aria-controls="faq-1"
                                    class="w-full flex justify-between items-center text-left p-4 sm:p-6"
                                    x-bind:aria-expanded="openFaq === 1">
                                    <h3 class="text-base sm:text-lg font-medium text-primary" itemprop="name">Is sending
                                        a letter to my future self really free?</h3>
                                    <span aria-hidden="true" class="material-icons transition-transform text-secondary"
                                        x-bind:class="{ 'rotate-180': openFaq === 1 }">expand_more</span>
                                </button>
                                <div class="px-4 sm:px-6 pb-4 sm:pb-6 text-secondary text-sm sm:text-base" id="faq-1"
                                    itemprop="acceptedAnswer" itemscope="" itemtype="https://schema.org/Answer"
                                    x-collapse.duration.300ms="" x-show="openFaq === 1">
                                    <div itemprop="text">
                                        <p>Yes, absolutely. Our core service of sending a single letter to your future
                                            self is completely free. We are committed to providing this valuable tool
                                            for self-reflection and personal journaling at no cost.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-surface rounded-xl sm:rounded-2xl shadow-lg border border-default"
                                id="privacy" itemprop="mainEntity" itemscope="" itemtype="https://schema.org/Question">
                                <button @click="openFaq = openFaq === 2 ? null : 2" aria-controls="faq-2"
                                    class="w-full flex justify-between items-center text-left p-4 sm:p-6"
                                    x-bind:aria-expanded="openFaq === 2">
                                    <h3 class="text-base sm:text-lg font-medium text-primary" itemprop="name">How is the
                                        privacy of my future letter guaranteed?</h3>
                                    <span aria-hidden="true" class="material-icons transition-transform text-secondary"
                                        x-bind:class="{ 'rotate-180': openFaq === 2 }">expand_more</span>
                                </button>
                                <div class="px-4 sm:px-6 pb-4 sm:pb-6 text-secondary text-sm sm:text-base" id="faq-2"
                                    itemprop="acceptedAnswer" itemscope="" itemtype="https://schema.org/Answer"
                                    x-collapse.duration.300ms="" x-show="openFaq === 2">
                                    <div itemprop="text">
                                        <p>Your privacy is our utmost priority. Your future letter's content is
                                            encrypted and stored securely. No one can read your message to the future.
                                            It is only decrypted when sent to your email on your chosen delivery date
                                            for your personal time capsule.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-surface rounded-xl sm:rounded-2xl shadow-lg border border-default"
                                itemprop="mainEntity" itemscope="" itemtype="https://schema.org/Question">
                                <button @click="openFaq = openFaq === 3 ? null : 3" aria-controls="faq-3"
                                    class="w-full flex justify-between items-center text-left p-4 sm:p-6"
                                    x-bind:aria-expanded="openFaq === 3">
                                    <h3 class="text-base sm:text-lg font-medium text-primary" itemprop="name">Can I edit
                                        my future letter after I schedule it?</h3>
                                    <span aria-hidden="true" class="material-icons transition-transform text-secondary"
                                        x-bind:class="{ 'rotate-180': openFaq === 3 }">expand_more</span>
                                </button>
                                <div class="px-4 sm:px-6 pb-4 sm:pb-6 text-secondary text-sm sm:text-base" id="faq-3"
                                    itemprop="acceptedAnswer" itemscope="" itemtype="https://schema.org/Answer"
                                    x-collapse.duration.300ms="" x-show="openFaq === 3">
                                    <div itemprop="text">
                                        <p>Yes! You can edit or delete a scheduled letter anytime before its delivery
                                            date. Use the "Manage Letters" feature. We'll send a secure link to manage
                                            all future self messages associated with your email.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-surface rounded-xl sm:rounded-2xl shadow-lg border border-default"
                                itemprop="mainEntity" itemscope="" itemtype="https://schema.org/Question">
                                <button @click="openFaq = openFaq === 4 ? null : 4" aria-controls="faq-4"
                                    class="w-full flex justify-between items-center text-left p-4 sm:p-6"
                                    x-bind:aria-expanded="openFaq === 4">
                                    <h3 class="text-base sm:text-lg font-medium text-primary" itemprop="name">What if I
                                        change my email before my message to the future is delivered?</h3>
                                    <span aria-hidden="true" class="material-icons transition-transform text-secondary"
                                        x-bind:class="{ 'rotate-180': openFaq === 4 }">expand_more</span>
                                </button>
                                <div class="px-4 sm:px-6 pb-4 sm:pb-6 text-secondary text-sm sm:text-base" id="faq-4"
                                    itemprop="acceptedAnswer" itemscope="" itemtype="https://schema.org/Answer"
                                    x-collapse.duration.300ms="" x-show="openFaq === 4">
                                    <div itemprop="text">
                                        <p>You can update the recipient email for your future letter using the "Manage
                                            Letters" feature while you still have access to the original email. If you
                                            lose access, we cannot change the destination email for security reasons.
                                        </p>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-surface rounded-xl sm:rounded-2xl shadow-lg border border-default" id="about"
                                itemprop="mainEntity" itemscope="" itemtype="https://schema.org/Question">
                                <button @click="openFaq = openFaq === 5 ? null : 5" aria-controls="faq-5"
                                    class="w-full flex justify-between items-center text-left p-4 sm:p-6"
                                    x-bind:aria-expanded="openFaq === 5">
                                    <h3 class="text-base sm:text-lg font-medium text-primary" itemprop="name">Can I
                                        write more than one letter to my future self?</h3>
                                    <span aria-hidden="true" class="material-icons transition-transform text-secondary"
                                        x-bind:class="{ 'rotate-180': openFaq === 5 }">expand_more</span>
                                </button>
                                <div class="px-4 sm:px-6 pb-4 sm:pb-6 text-secondary text-sm sm:text-base" id="faq-5"
                                    itemprop="acceptedAnswer" itemscope="" itemtype="https://schema.org/Answer"
                                    x-collapse.duration.300ms="" x-show="openFaq === 5">
                                    <div itemprop="text">
                                        <p>Yes, you can send as many letters as you wish to various future dates. You
                                            can write letters for one, five, or even twenty years from now, creating
                                            multiple digital time capsules for your future self.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
            </section>
        </main>
        <footer class="bg-surface border-t border-default">
            <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8">
                <div
                    class="flex flex-col md:flex-row justify-between items-center text-center md:text-left space-y-4 md:space-y-0">
                    <p class="text-xs sm:text-sm text-secondary">© 2025 LetterToFuture - Your personal time capsule
                        service.</p>
                    <div class="flex items-center space-x-3 sm:space-x-4">
                        <a class="text-xs sm:text-sm text-secondary hover:text-brand-primary transition-colors"
                            href="#terms-of-service" id="terms-of-service">Terms of Service</a>
                        <a class="text-xs sm:text-sm text-secondary hover:text-brand-primary transition-colors"
                            href="#privacy">Privacy Policy</a>
                    </div>
                </div>
            </div>
        </footer>
    </div>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script>
        function letterForm() {
            return {
                submitted: false,
                email: '',
                deliveryDate: '',
                letterContent: '',
                letterSnippet: '',
                error: '',
                async submitLetter($event) {
                    this.error = '';
                    const form = $event.target;
                    const email = form.elements.email.value;
                    const deliveryDate = form.elements.delivery_date.value;
                    const letter = form.elements.letter.value;
                    if (!email || !deliveryDate || !letter) {
                        this.error = 'All fields are required.';
                        return;
                    }
                    try {
                        const res = await fetch('/api/schedule', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ email, deliveryDate, letter })
                        });
                        if (!res.ok) {
                            const data = await res.json().catch(() => ({}));
                            this.error = data.error || 'Failed to schedule letter. Please try again.';
                            return;
                        }
                        this.submitted = true;
                        this.email = email;
                        this.deliveryDate = new Date(deliveryDate + 'T00:00:00').toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
                        this.letterContent = letter;
                        this.letterSnippet = letter.substring(0, 150) + '...';
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                        gtag('event', 'conversion', { 'event_category': 'Letter', 'event_label': 'Final Version' });
                    } catch (err) {
                        this.error = 'Failed to schedule letter. Please try again.';
                    }
                },
            }
        }

        function manageLetters() {
            return {
                email: '',
                requested: false,
                requestError: '',
                requestSuccess: false,
                token: '',
                loading: false,
                letters: [],
                manageError: '',
                manageEmail: '',
                fetchLetters() {
                    this.loading = true;
                    fetch(`/api/letters/manage-verify?token=${encodeURIComponent(this.token)}`)
                        .then(res => res.json())
                        .then(data => {
                            if (data.error) {
                                this.manageError = data.error;
                                this.letters = [];
                            } else {
                                this.letters = data.letters;
                                this.manageEmail = data.email;
                            }
                            this.loading = false;
                        })
                        .catch(() => {
                            this.manageError = 'Failed to fetch letters.';
                            this.loading = false;
                        });
                },
                requestLink($event) {
                    $event.preventDefault();
                    this.requestError = '';
                    this.requestSuccess = false;
                    const email = this.email;
                    if (!email) {
                        this.requestError = 'Email is required.';
                        return;
                    }
                    this.loading = true;
                    fetch('/api/letters/manage-request', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ email })
                    })
                        .then(res => res.json())
                        .then(data => {
                            if (data.error) {
                                this.requestError = data.error;
                            } else {
                                this.requestSuccess = true;
                            }
                            this.loading = false;
                        })
                        .catch(() => {
                            this.requestError = 'Failed to send management link.';
                            this.loading = false;
                        });
                },
                editLetterId: null,
                editLetterContent: '',
                editLetterDate: '',
                editError: '',
                startEdit(letter) {
                    this.editLetterId = letter.id;
                    this.editLetterContent = letter.letter;
                    this.editLetterDate = letter.delivery_date ? letter.delivery_date.split('T')[0] : '';
                    this.editError = '';
                },
                cancelEdit() {
                    this.editLetterId = null;
                    this.editLetterContent = '';
                    this.editLetterDate = '';
                    this.editError = '';
                },
                saveEdit() {
                    if (!this.editLetterContent || !this.editLetterDate) {
                        this.editError = 'All fields are required.';
                        return;
                    }
                    fetch(`/api/letters/${this.editLetterId}`, {
                        method: 'PUT',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${this.token}`
                        },
                        body: JSON.stringify({ letter: this.editLetterContent, deliveryDate: this.editLetterDate })
                    })
                        .then(res => res.json())
                        .then(data => {
                            if (data.error) {
                                this.editError = data.error;
                            } else {
                                // Update the letter in the list
                                const idx = this.letters.findIndex(l => l.id === this.editLetterId);
                                if (idx !== -1) {
                                    this.letters[idx].letter = this.editLetterContent;
                                    this.letters[idx].delivery_date = this.editLetterDate;
                                }
                                this.cancelEdit();
                            }
                        })
                        .catch(() => {
                            this.editError = 'Failed to update letter.';
                        });
                },
                deleteLetter(id) {
                    if (!confirm('Are you sure you want to delete this letter?')) return;
                    fetch(`/api/letters/${id}`, {
                        method: 'DELETE',
                        headers: {
                            'Authorization': `Bearer ${this.token}`
                        }
                    })
                        .then(res => res.json())
                        .then(data => {
                            if (!data.error) {
                                this.letters = this.letters.filter(l => l.id !== id);
                            } else {
                                alert(data.error);
                            }
                        })
                        .catch(() => {
                            alert('Failed to delete letter.');
                        });
                },
            }
        }

        document.addEventListener('alpine:init', () => {
            // FAQ logic remains unchanged
        });
        const setDateMin = () => {
            const dateInput = document.getElementById('delivery_date');
            if (dateInput) {
                const today = new Date();
                today.setDate(today.getDate() + 1);
                dateInput.min = today.toISOString().split('T')[0];
            }
        };
        setDateMin();

        // On page load, check for /manage?token=... and show management UI if present
        document.addEventListener('DOMContentLoaded', () => {
            const url = new URL(window.location.href);
            const token = url.pathname.startsWith('/manage') ? url.searchParams.get('token') : null;
            if (token && window.Alpine) {
                window.Alpine.store('manageLetters', manageLetters());
                window.Alpine.store('manageLetters').token = token;
                window.Alpine.store('manageLetters').fetchLetters();
            }
        });

        // Auto-focus date input after letter textarea blur if not empty
        document.addEventListener('DOMContentLoaded', () => {
            const letterTextarea = document.getElementById('letter');
            const dateInput = document.getElementById('delivery_date');
            if (letterTextarea && dateInput) {
                letterTextarea.addEventListener('blur', function () {
                    if (letterTextarea.value.trim().length > 0) {
                        setTimeout(() => { dateInput.focus(); }, 150);
                    }
                });
            }
        });
    </script>
    <script defer src="https://speed.vercel.dev/script.js" data-sdkn="@vercel/speed-insights"></script>
</body>

</html>